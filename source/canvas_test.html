<!DOCTYPE html>
<html lang="ru">

<head>
  <include src="source/templates/head.html"></include>
  <title>home</title>
  <script src="js/main.js"></script>
</head>

<body>

  <div style="display: none;">
    <include src="build/img/sprite.svg"></include>
  </div>

  <include src="source/templates/header.html"></include>

  <main class="page-main">
    <div class="page-title">
      <div class="container">
        <h1 class="page-title__text">Canvas</h1>
        <p class="page-title__subtitle">Хз что получится... на мобилке скорее всего будет работать, но размеры холста
          для планшета. Все скрипты на гихабе ну или смотри исходный код.</p>
      </div>
    </div>
    <section class="container container--column">
      <div class="container container--two-column">
        <h2 class="section-header">Пробую рисовать звездное небо.</h2>
        <canvas id="canvas_1" width="900" height="900"></canvas>
        <style>
          #canvas_1 {
            width: 300px;
            height: 300px;
            border: 1px solid #404040;
            display: block;
            margin: 0 auto;
            background-color: #000;
          }

        </style>
        <script>
          $(document).ready(function () {


            var canvas = document.getElementById('canvas_1');



            if (canvas.getContext) {

              var ctx = canvas.getContext('2d'),
                stars = [],
                x = 0,
                y = 0,
                r = 0;

              class star_class {

                constructor(x, y, r) {
                  this.x = x || 0;
                  this.y = x || 0;
                  this.r = r || Math.random() * 10;
                }

                draw(ctx) {
                  ctx.save();
                  // ctx.beginPatch();
                  ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);
                  ctx.fillStyle = "#ffffff";
                  ctx.fill();
                  ctx.closePath();
                  ctx.restore();
                }

              }

              for (var i = 0; i < 10; i++) {
                stars.push(
                  new star_class(
                    Math.random() * 900,
                    Math.random() * 900
                  )
                );
              };
              console.log(stars);

              function Render() {
                // window.requestAnimationFrame(Render);
                ctx.clearRect(60, 60, 600, 600);
                stars.forEach(star => {
                  star.draw(ctx);
                })
              };

              Render();


            } else {
              alert("нет поддержки canvas");
            }



          });

        </script>
      </div>
    </section>

  </main>

  <include src="source/templates/footer.html"></include>

</body>

</html>
